  [1m[35m (746.4ms)[0m  [1m[35mCREATE DATABASE "restaurant_booking_development" ENCODING = 'unicode'[0m
  [1m[35m (1722.6ms)[0m  [1m[35mCREATE DATABASE "restaurant_booking_test" ENCODING = 'unicode'[0m
  [1m[35m (220.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (127.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3400353842567765265)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20200512130331)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (91.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200512130331"]]
  [1m[35m (25.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-05-12 13:04:17.103537"], ["updated_at", "2020-05-12 13:04:17.103537"]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3400353842567765265)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Roman"], ["created_at", "2020-05-12 13:06:18.674463"], ["updated_at", "2020-05-12 13:06:18.674463"]]
  [1m[35m (12.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3400353842567765265)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRestaurants (20200512130708)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (89.4ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200512130708"]]
  [1m[35m (71.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3400353842567765265)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Create (0.9ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "First restaurant"], ["created_at", "2020-05-12 13:09:06.994274"], ["updated_at", "2020-05-12 13:09:06.994274"]]
  [1m[35m (21.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3400353842567765265)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTables (20200512131033)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (103.4ms)[0m  [1m[35mCREATE TABLE "tables" ("id" bigserial primary key, "name" character varying NOT NULL, "restaurant_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0700cfe41e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (48.0ms)[0m  [1m[35mCREATE  INDEX  "index_tables_on_restaurant_id" ON "tables"  ("restaurant_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200512131033"]]
  [1m[35m (20.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(3400353842567765265)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."name" = $1 LIMIT $2[0m  [["name", "First restaurant"], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Destroy (1.6ms)[0m  [1m[31mDELETE FROM "restaurants" WHERE "restaurants"."id" = $1[0m  [["id", 1]]
  [1m[35m (18.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Create (0.8ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2020-05-12 13:14:24.622722"], ["updated_at", "2020-05-12 13:14:24.622722"]]
  [1m[35m (24.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTable Create (0.9ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "first"], ["restaurant_id", 2], ["created_at", "2020-05-12 13:16:31.583310"], ["updated_at", "2020-05-12 13:16:31.583310"]]
  [1m[35m (29.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3400353842567765265)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateReservations (20200512131713)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (114.2ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "date" date NOT NULL, "time" character varying NOT NULL, "duration" character varying NOT NULL, "restaurant_id" bigint NOT NULL, "table_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_0d6bc84231"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
, CONSTRAINT "fk_rails_23ce71128d"
FOREIGN KEY ("table_id")
  REFERENCES "tables" ("id")
, CONSTRAINT "fk_rails_48a92fce51"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (56.4ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_restaurant_id" ON "reservations"  ("restaurant_id")[0m
  [1m[35m (49.9ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_table_id" ON "reservations"  ("table_id")[0m
  [1m[35m (49.4ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_user_id" ON "reservations"  ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200512131713"]]
  [1m[35m (19.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(3400353842567765265)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReservation Create (2.5ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2017-03-28"], ["time", "20:00"], ["duration", "90"], ["restaurant_id", 2], ["table_id", 1], ["user_id", 1], ["created_at", "2020-05-12 13:21:39.554173"], ["updated_at", "2020-05-12 13:21:39.554173"]]
  [1m[35m (20.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3400353842567765265)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSchedules (20200512133507)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (113.4ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" bigserial primary key, "day" character varying NOT NULL, "start_at" character varying NOT NULL, "end_at" character varying NOT NULL, "restaurant_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_e5ec0f7413"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (57.8ms)[0m  [1m[35mCREATE  INDEX  "index_schedules_on_restaurant_id" ON "schedules"  ("restaurant_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20200512133507"]]
  [1m[35m (29.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(3400353842567765265)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.8ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTable Load (0.6ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[36mTable Destroy (3.7ms)[0m  [1m[31mDELETE FROM "tables" WHERE "tables"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mReservation Load (0.8ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations"[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mReservation Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reservations" WHERE "reservations"."id" = $1[0m  [["id", 1]]
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRestaurant Load (0.8ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTable Load (0.6ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[36mTable Destroy (1.0ms)[0m  [1m[31mDELETE FROM "tables" WHERE "tables"."id" = $1[0m  [["id", 1]]
  [1m[36mRestaurant Destroy (2.0ms)[0m  [1m[31mDELETE FROM "restaurants" WHERE "restaurants"."id" = $1[0m  [["id", 2]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Create (1.0ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "test"], ["created_at", "2020-05-12 13:37:15.959354"], ["updated_at", "2020-05-12 13:37:15.959354"]]
  [1m[35m (11.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRestaurant Load (0.7ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSchedule Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2017-03-28%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2017-03-28%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTable Create (1.4ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "1"], ["restaurant_id", 3], ["created_at", "2020-05-12 13:41:12.655774"], ["updated_at", "2020-05-12 13:41:12.655774"]]
  [1m[35m (16.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" ORDER BY "tables"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.9ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReservation Create (1.6ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2017-03-28"], ["time", "20:00"], ["duration", "90"], ["restaurant_id", 3], ["table_id", 2], ["user_id", 1], ["created_at", "2020-05-12 13:42:01.210582"], ["updated_at", "2020-05-12 13:42:01.210582"]]
  [1m[35m (20.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSchedule Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2017-03-28%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSchedule Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2017-03-28%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2017-03-28%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2017-03-28%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" ORDER BY "restaurants"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Create (1.7ms)[0m  [1m[32mINSERT INTO "schedules" ("day", "start_at", "end_at", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["day", "Tue, Wed, Thu"], ["start_at", "11:00"], ["end_at", "23:00"], ["restaurant_id", 3], ["created_at", "2020-05-12 13:51:18.440581"], ["updated_at", "2020-05-12 13:51:18.440581"]]
  [1m[35m (26.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTable Load (0.6ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReservation Create (1.5ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2017-03-28"], ["time", "20:00"], ["duration", "90"], ["restaurant_id", 3], ["table_id", 2], ["user_id", 1], ["created_at", "2020-05-12 13:52:12.848929"], ["updated_at", "2020-05-12 13:52:12.848929"]]
  [1m[35m (20.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReservation Create (1.1ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2017-03-28"], ["time", "20:00"], ["duration", "90"], ["restaurant_id", 3], ["table_id", 2], ["user_id", 1], ["created_at", "2020-05-12 13:52:14.471470"], ["updated_at", "2020-05-12 13:52:14.471470"]]
  [1m[35m (10.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReservation Create (1.1ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2017-03-28"], ["time", "20:00"], ["duration", "90"], ["restaurant_id", 3], ["table_id", 2], ["user_id", 1], ["created_at", "2020-05-12 13:52:15.447582"], ["updated_at", "2020-05-12 13:52:15.447582"]]
  [1m[35m (11.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReservation Create (1.1ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2017-03-28"], ["time", "20:00"], ["duration", "90"], ["restaurant_id", 3], ["table_id", 2], ["user_id", 1], ["created_at", "2020-05-12 13:52:16.080996"], ["updated_at", "2020-05-12 13:52:16.080996"]]
  [1m[35m (11.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReservation Create (0.9ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2017-03-28"], ["time", "20:00"], ["duration", "90"], ["restaurant_id", 3], ["table_id", 2], ["user_id", 1], ["created_at", "2020-05-12 13:52:16.718781"], ["updated_at", "2020-05-12 13:52:16.718781"]]
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReservation Create (1.1ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2017-03-28"], ["time", "20:00"], ["duration", "90"], ["restaurant_id", 3], ["table_id", 2], ["user_id", 1], ["created_at", "2020-05-12 13:52:17.703938"], ["updated_at", "2020-05-12 13:52:17.703938"]]
  [1m[35m (44.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReservation Create (2.0ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2017-03-28"], ["time", "21:00"], ["duration", "60"], ["restaurant_id", 3], ["table_id", 2], ["user_id", 1], ["created_at", "2020-05-12 13:52:54.671878"], ["updated_at", "2020-05-12 13:52:54.671878"]]
  [1m[35m (20.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2017-03-28%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.5ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2017-03-28%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.6ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.8ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2017-03-28%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.6ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mReservation Load (0.7ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 2], ["date", "2017-03-28"]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2017-03-27%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Mon%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2017-03-29%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.6ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (229.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "restaurant_booking_development"[0m
  [1m[35m (332.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "restaurant_booking_test"[0m
  [1m[35m (776.8ms)[0m  [1m[35mCREATE DATABASE "restaurant_booking_development" ENCODING = 'unicode'[0m
  [1m[35m (920.7ms)[0m  [1m[35mCREATE DATABASE "restaurant_booking_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE[0m
  [1m[35m (207.3ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "date" date NOT NULL, "time" character varying NOT NULL, "duration" character varying NOT NULL, "restaurant_id" bigint NOT NULL, "table_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (68.9ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_restaurant_id" ON "reservations"  ("restaurant_id")[0m
  [1m[35m (67.9ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_table_id" ON "reservations"  ("table_id")[0m
  [1m[35m (80.9ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_user_id" ON "reservations"  ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants" CASCADE[0m
  [1m[35m (128.8ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedules" CASCADE[0m
  [1m[35m (164.3ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" bigserial primary key, "day" character varying NOT NULL, "start_at" character varying NOT NULL, "end_at" character varying NOT NULL, "restaurant_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (83.5ms)[0m  [1m[35mCREATE  INDEX  "index_schedules_on_restaurant_id" ON "schedules"  ("restaurant_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "tables" CASCADE[0m
  [1m[35m (171.1ms)[0m  [1m[35mCREATE TABLE "tables" ("id" bigserial primary key, "name" character varying NOT NULL, "restaurant_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (83.5ms)[0m  [1m[35mCREATE  INDEX  "index_tables_on_restaurant_id" ON "tables"  ("restaurant_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (170.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.7ms)[0m  [1m[35mALTER TABLE "reservations" ADD CONSTRAINT "fk_rails_0d6bc84231"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
[0m
  [1m[35m (7.9ms)[0m  [1m[35mALTER TABLE "reservations" ADD CONSTRAINT "fk_rails_23ce71128d"
FOREIGN KEY ("table_id")
  REFERENCES "tables" ("id")
[0m
  [1m[35m (7.9ms)[0m  [1m[35mALTER TABLE "reservations" ADD CONSTRAINT "fk_rails_48a92fce51"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (7.9ms)[0m  [1m[35mALTER TABLE "schedules" ADD CONSTRAINT "fk_rails_e5ec0f7413"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
[0m
  [1m[35m (8.1ms)[0m  [1m[35mALTER TABLE "tables" ADD CONSTRAINT "fk_rails_0700cfe41e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
[0m
  [1m[35m (139.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (7.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200512133507)[0m
  [1m[35m (9.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200512130331),
(20200512130708),
(20200512131033),
(20200512131713);

[0m
  [1m[35m (118.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-05-12 14:07:25.501966"], ["updated_at", "2020-05-12 14:07:25.501966"]]
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "447f597360267c7c184e5154cba9c7ec4f003997"], ["created_at", "2020-05-12 14:07:25.526243"], ["updated_at", "2020-05-12 14:07:25.526243"]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE[0m
  [1m[35m (157.2ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "date" date NOT NULL, "time" character varying NOT NULL, "duration" character varying NOT NULL, "restaurant_id" bigint NOT NULL, "table_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (91.7ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_restaurant_id" ON "reservations"  ("restaurant_id")[0m
  [1m[35m (82.5ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_table_id" ON "reservations"  ("table_id")[0m
  [1m[35m (73.3ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_user_id" ON "reservations"  ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants" CASCADE[0m
  [1m[35m (161.1ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedules" CASCADE[0m
  [1m[35m (126.3ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" bigserial primary key, "day" character varying NOT NULL, "start_at" character varying NOT NULL, "end_at" character varying NOT NULL, "restaurant_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (71.4ms)[0m  [1m[35mCREATE  INDEX  "index_schedules_on_restaurant_id" ON "schedules"  ("restaurant_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "tables" CASCADE[0m
  [1m[35m (125.3ms)[0m  [1m[35mCREATE TABLE "tables" ("id" bigserial primary key, "name" character varying NOT NULL, "restaurant_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (70.9ms)[0m  [1m[35mCREATE  INDEX  "index_tables_on_restaurant_id" ON "tables"  ("restaurant_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (125.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.4ms)[0m  [1m[35mALTER TABLE "reservations" ADD CONSTRAINT "fk_rails_0d6bc84231"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
[0m
  [1m[35m (6.9ms)[0m  [1m[35mALTER TABLE "reservations" ADD CONSTRAINT "fk_rails_23ce71128d"
FOREIGN KEY ("table_id")
  REFERENCES "tables" ("id")
[0m
  [1m[35m (7.8ms)[0m  [1m[35mALTER TABLE "reservations" ADD CONSTRAINT "fk_rails_48a92fce51"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (7.8ms)[0m  [1m[35mALTER TABLE "schedules" ADD CONSTRAINT "fk_rails_e5ec0f7413"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
[0m
  [1m[35m (8.0ms)[0m  [1m[35mALTER TABLE "tables" ADD CONSTRAINT "fk_rails_0700cfe41e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
[0m
  [1m[35m (116.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200512133507)[0m
  [1m[35m (8.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200512130331),
(20200512130708),
(20200512131033),
(20200512131713);

[0m
  [1m[35m (117.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-05-12 14:07:27.064129"], ["updated_at", "2020-05-12 14:07:27.064129"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-05-12 14:07:27.082984"], ["key", "environment"]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "447f597360267c7c184e5154cba9c7ec4f003997"], ["created_at", "2020-05-12 14:07:27.104378"], ["updated_at", "2020-05-12 14:07:27.104378"]]
  [1m[35m (9.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3400353842567765265)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(3400353842567765265)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Roman"], ["created_at", "2020-05-12 14:08:44.546625"], ["updated_at", "2020-05-12 14:08:44.546625"]]
  [1m[35m (18.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Create (0.9ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test"], ["created_at", "2020-05-12 14:09:09.357106"], ["updated_at", "2020-05-12 14:09:09.357106"]]
  [1m[35m (21.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."name" = $1 LIMIT $2[0m  [["name", "Test"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSchedule Create (1.1ms)[0m  [1m[32mINSERT INTO "schedules" ("day", "start_at", "end_at", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["day", "Tue, Wed, Thu"], ["start_at", "11:00"], ["end_at", "23:00"], ["restaurant_id", 1], ["created_at", "2020-05-12 14:10:26.317530"], ["updated_at", "2020-05-12 14:10:26.317530"]]
  [1m[35m (19.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSchedule Create (0.9ms)[0m  [1m[32mINSERT INTO "schedules" ("day", "start_at", "end_at", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["day", "Fri, Sat, Sun"], ["start_at", "11:00"], ["end_at", "01:00"], ["restaurant_id", 1], ["created_at", "2020-05-12 14:10:53.247631"], ["updated_at", "2020-05-12 14:10:53.247631"]]
  [1m[35m (24.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSchedule Create (1.0ms)[0m  [1m[32mINSERT INTO "schedules" ("day", "start_at", "end_at", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["day", "2017-12-31"], ["start_at", "15:00"], ["end_at", "06:00"], ["restaurant_id", 1], ["created_at", "2020-05-12 14:11:44.648169"], ["updated_at", "2020-05-12 14:11:44.648169"]]
  [1m[35m (48.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTable Create (1.5ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "1"], ["restaurant_id", 1], ["created_at", "2020-05-12 14:12:29.774263"], ["updated_at", "2020-05-12 14:12:29.774263"]]
  [1m[35m (23.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTable Create (0.6ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "2"], ["restaurant_id", 1], ["created_at", "2020-05-12 14:12:38.934569"], ["updated_at", "2020-05-12 14:12:38.934569"]]
  [1m[35m (20.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTable Create (1.0ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "MyPersonalTable"], ["restaurant_id", 1], ["created_at", "2020-05-12 14:13:22.809921"], ["updated_at", "2020-05-12 14:13:22.809921"]]
  [1m[35m (24.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.7ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (2.4ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.5ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.6ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 3], ["date", "2020-05-20"]]
  [1m[36mReservation Create (1.8ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2020-05-20"], ["time", "20:00"], ["duration", "90"], ["restaurant_id", 1], ["table_id", 3], ["user_id", 1], ["created_at", "2020-05-12 14:14:27.901919"], ["updated_at", "2020-05-12 14:14:27.901919"]]
  [1m[35m (46.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.6ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.7ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.6ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 3], ["date", "2020-05-20"]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.7ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.8ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.5ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 3], ["date", "2020-05-20"]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-19%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.7ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-19%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.8ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.4ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 3], ["date", "2020-05-19"]]
  [1m[36mReservation Create (0.8ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2020-05-19"], ["time", "21:00"], ["duration", "60"], ["restaurant_id", 1], ["table_id", 3], ["user_id", 1], ["created_at", "2020-05-12 14:16:03.595248"], ["updated_at", "2020-05-12 14:16:03.595248"]]
  [1m[35m (25.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.6ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-21%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Thu%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.7ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Thu%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-21%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Thu%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.6ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Thu%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.5ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 3], ["date", "2020-05-21"]]
  [1m[36mReservation Create (0.9ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2020-05-21"], ["time", "21:00"], ["duration", "60"], ["restaurant_id", 1], ["table_id", 3], ["user_id", 1], ["created_at", "2020-05-12 14:16:09.944210"], ["updated_at", "2020-05-12 14:16:09.944210"]]
  [1m[35m (21.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-22%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Fri%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.5ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Fri%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-22%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Fri%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.7ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Fri%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.6ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 3], ["date", "2020-05-22"]]
  [1m[36mReservation Create (0.9ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2020-05-22"], ["time", "21:00"], ["duration", "60"], ["restaurant_id", 1], ["table_id", 3], ["user_id", 1], ["created_at", "2020-05-12 14:16:16.013653"], ["updated_at", "2020-05-12 14:16:16.013653"]]
  [1m[35m (41.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-23%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Sat%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.6ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Sat%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-23%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Sat%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.6ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Sat%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.4ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 3], ["date", "2020-05-23"]]
  [1m[36mReservation Create (1.2ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2020-05-23"], ["time", "21:00"], ["duration", "60"], ["restaurant_id", 1], ["table_id", 3], ["user_id", 1], ["created_at", "2020-05-12 14:16:19.626803"], ["updated_at", "2020-05-12 14:16:19.626803"]]
  [1m[35m (16.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-24%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Sun%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.5ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Sun%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.2ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-24%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Sun%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.4ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Sun%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.4ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 3], ["date", "2020-05-24"]]
  [1m[36mReservation Create (0.9ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2020-05-24"], ["time", "21:00"], ["duration", "60"], ["restaurant_id", 1], ["table_id", 3], ["user_id", 1], ["created_at", "2020-05-12 14:16:23.262608"], ["updated_at", "2020-05-12 14:16:23.262608"]]
  [1m[35m (25.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-25%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Mon%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-25%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Mon%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mSchedule Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.8ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.6ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.7ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (1.1ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 1], ["date", "2020-05-20"]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.9ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.4ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 2], ["date", "2020-05-20"]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.6ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.5ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 3], ["date", "2020-05-20"]]
  [1m[36mSchedule Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-25%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Mon%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.7ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.8ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.4ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 1], ["date", "2020-05-20"]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (1.0ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.3ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 2], ["date", "2020-05-20"]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.6ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.3ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 3], ["date", "2020-05-20"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (235.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "restaurant_booking_development"[0m
  [1m[35m (430.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "restaurant_booking_test"[0m
  [1m[35m (828.8ms)[0m  [1m[35mCREATE DATABASE "restaurant_booking_development" ENCODING = 'unicode'[0m
  [1m[35m (900.9ms)[0m  [1m[35mCREATE DATABASE "restaurant_booking_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE[0m
  [1m[35m (132.2ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "date" date NOT NULL, "time" character varying NOT NULL, "duration" character varying NOT NULL, "restaurant_id" bigint NOT NULL, "table_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (72.5ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_restaurant_id" ON "reservations"  ("restaurant_id")[0m
  [1m[35m (114.5ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_table_id" ON "reservations"  ("table_id")[0m
  [1m[35m (184.8ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_user_id" ON "reservations"  ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants" CASCADE[0m
  [1m[35m (120.0ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedules" CASCADE[0m
  [1m[35m (123.9ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" bigserial primary key, "day" character varying NOT NULL, "start_at" character varying NOT NULL, "end_at" character varying NOT NULL, "restaurant_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (71.7ms)[0m  [1m[35mCREATE  INDEX  "index_schedules_on_restaurant_id" ON "schedules"  ("restaurant_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "tables" CASCADE[0m
  [1m[35m (127.0ms)[0m  [1m[35mCREATE TABLE "tables" ("id" bigserial primary key, "name" character varying NOT NULL, "restaurant_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (60.3ms)[0m  [1m[35mCREATE  INDEX  "index_tables_on_restaurant_id" ON "tables"  ("restaurant_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (104.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.7ms)[0m  [1m[35mALTER TABLE "reservations" ADD CONSTRAINT "fk_rails_0d6bc84231"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
[0m
  [1m[35m (7.7ms)[0m  [1m[35mALTER TABLE "reservations" ADD CONSTRAINT "fk_rails_23ce71128d"
FOREIGN KEY ("table_id")
  REFERENCES "tables" ("id")
[0m
  [1m[35m (6.3ms)[0m  [1m[35mALTER TABLE "reservations" ADD CONSTRAINT "fk_rails_48a92fce51"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (8.9ms)[0m  [1m[35mALTER TABLE "schedules" ADD CONSTRAINT "fk_rails_e5ec0f7413"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
[0m
  [1m[35m (8.6ms)[0m  [1m[35mALTER TABLE "tables" ADD CONSTRAINT "fk_rails_0700cfe41e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
[0m
  [1m[35m (128.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200512133507)[0m
  [1m[35m (9.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200512130331),
(20200512130708),
(20200512131033),
(20200512131713);

[0m
  [1m[35m (130.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-05-12 14:31:05.237271"], ["updated_at", "2020-05-12 14:31:05.237271"]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "447f597360267c7c184e5154cba9c7ec4f003997"], ["created_at", "2020-05-12 14:31:05.264404"], ["updated_at", "2020-05-12 14:31:05.264404"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE[0m
  [1m[35m (150.3ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "date" date NOT NULL, "time" character varying NOT NULL, "duration" character varying NOT NULL, "restaurant_id" bigint NOT NULL, "table_id" bigint NOT NULL, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (81.4ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_restaurant_id" ON "reservations"  ("restaurant_id")[0m
  [1m[35m (82.8ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_table_id" ON "reservations"  ("table_id")[0m
  [1m[35m (82.5ms)[0m  [1m[35mCREATE  INDEX  "index_reservations_on_user_id" ON "reservations"  ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "restaurants" CASCADE[0m
  [1m[35m (160.4ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "schedules" CASCADE[0m
  [1m[35m (368.9ms)[0m  [1m[35mCREATE TABLE "schedules" ("id" bigserial primary key, "day" character varying NOT NULL, "start_at" character varying NOT NULL, "end_at" character varying NOT NULL, "restaurant_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (139.3ms)[0m  [1m[35mCREATE  INDEX  "index_schedules_on_restaurant_id" ON "schedules"  ("restaurant_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "tables" CASCADE[0m
  [1m[35m (148.7ms)[0m  [1m[35mCREATE TABLE "tables" ("id" bigserial primary key, "name" character varying NOT NULL, "restaurant_id" bigint, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (344.4ms)[0m  [1m[35mCREATE  INDEX  "index_tables_on_restaurant_id" ON "tables"  ("restaurant_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (285.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.8ms)[0m  [1m[35mALTER TABLE "reservations" ADD CONSTRAINT "fk_rails_0d6bc84231"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
[0m
  [1m[35m (7.7ms)[0m  [1m[35mALTER TABLE "reservations" ADD CONSTRAINT "fk_rails_23ce71128d"
FOREIGN KEY ("table_id")
  REFERENCES "tables" ("id")
[0m
  [1m[35m (7.8ms)[0m  [1m[35mALTER TABLE "reservations" ADD CONSTRAINT "fk_rails_48a92fce51"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (7.5ms)[0m  [1m[35mALTER TABLE "schedules" ADD CONSTRAINT "fk_rails_e5ec0f7413"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
[0m
  [1m[35m (7.1ms)[0m  [1m[35mALTER TABLE "tables" ADD CONSTRAINT "fk_rails_0700cfe41e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
[0m
  [1m[35m (129.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (8.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200512133507)[0m
  [1m[35m (9.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200512130331),
(20200512130708),
(20200512131033),
(20200512131713);

[0m
  [1m[35m (118.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-05-12 14:31:07.565685"], ["updated_at", "2020-05-12 14:31:07.565685"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2020-05-12 14:31:07.584903"], ["key", "environment"]]
  [1m[35m (9.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "447f597360267c7c184e5154cba9c7ec4f003997"], ["created_at", "2020-05-12 14:31:07.606012"], ["updated_at", "2020-05-12 14:31:07.606012"]]
  [1m[35m (10.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Roman"], ["created_at", "2020-05-12 14:35:36.288104"], ["updated_at", "2020-05-12 14:35:36.288104"]]
  [1m[35m (12.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Create (0.6ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test"], ["created_at", "2020-05-12 14:37:24.319881"], ["updated_at", "2020-05-12 14:37:24.319881"]]
  [1m[35m (46.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mRestaurant Load (0.6ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."name" = $1 LIMIT $2[0m  [["name", "Test"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSchedule Create (1.8ms)[0m  [1m[32mINSERT INTO "schedules" ("day", "start_at", "end_at", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["day", "Tue, Wed, Thu"], ["start_at", "11:00"], ["end_at", "23:00"], ["restaurant_id", 1], ["created_at", "2020-05-12 14:41:31.336901"], ["updated_at", "2020-05-12 14:41:31.336901"]]
  [1m[35m (24.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSchedule Create (0.9ms)[0m  [1m[32mINSERT INTO "schedules" ("day", "start_at", "end_at", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["day", "Fri, Sat, Sun"], ["start_at", "11:00"], ["end_at", "01:00"], ["restaurant_id", 1], ["created_at", "2020-05-12 14:42:37.332588"], ["updated_at", "2020-05-12 14:42:37.332588"]]
  [1m[35m (23.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTable Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "tables" WHERE "tables"."restaurant_id" = $1 AND "tables"."name" = $2 LIMIT $3[0m  [["restaurant_id", 1], ["name", "1"], ["LIMIT", 1]]
  [1m[36mTable Create (1.7ms)[0m  [1m[32mINSERT INTO "tables" ("name", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "1"], ["restaurant_id", 1], ["created_at", "2020-05-12 14:43:53.999829"], ["updated_at", "2020-05-12 14:43:53.999829"]]
  [1m[35m (24.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.9ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.6ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.8ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 1], ["date", "2020-05-20"]]
  [1m[36mReservation Create (1.5ms)[0m  [1m[32mINSERT INTO "reservations" ("date", "time", "duration", "restaurant_id", "table_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["date", "2020-05-20"], ["time", "20:00"], ["duration", "90"], ["restaurant_id", 1], ["table_id", 1], ["user_id", 1], ["created_at", "2020-05-12 14:47:25.388994"], ["updated_at", "2020-05-12 14:47:25.388994"]]
  [1m[35m (24.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.7ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mRestaurant Load (0.4ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-20%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.7ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Wed%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.5ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 1], ["date", "2020-05-20"]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.5ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-25%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Mon%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-26%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.5ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Tue%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mSchedule Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-21%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Thu%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.6ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Thu%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mTable Load (0.5ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[36mSchedule Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-21%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Thu%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.6ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Thu%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.6ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 1], ["date", "2020-05-21"]]
  [1m[36mSchedule Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-21%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Thu%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.7ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Thu%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%2020-05-21%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Thu%') LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mSchedule Load (0.7ms)[0m  [1m[34mSELECT "schedules".* FROM "schedules" WHERE "schedules"."restaurant_id" = $1 AND (day LIKE '%Thu%') ORDER BY "schedules"."id" DESC LIMIT $2[0m  [["restaurant_id", 1], ["LIMIT", 1]]
  [1m[36mReservation Load (0.5ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" WHERE "reservations"."table_id" = $1 AND "reservations"."date" = $2[0m  [["table_id", 1], ["date", "2020-05-21"]]
